<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>أدوات PDF - تقسيم ودمج ملفات PDF</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
</head>
<body>
    <header>
        <div class="container">
            <h1><i class="fas fa-file-pdf"></i>FreeDF</h1>
            <p>أدوات مجانية لتعديل ملفات PDF بسهولة</p>
        </div>
    </header>

    <main class="container">
        <div class="tabs">
            <button class="tab-btn active" data-tab="split-tool">
                <i class="fas fa-cut"></i> تقسيم PDF
            </button>
            <button class="tab-btn" data-tab="merge-tool">
                <i class="fas fa-object-group"></i> دمج PDF
            </button>
            <button class="tab-btn" data-tab="remove-tool">
                <i class="fas fa-trash"></i> إزالة صفحات
            </button>
            <button class="tab-btn" data-tab="scan-tool">
                <i class="fas fa-camera"></i> مسح إلى PDF
            </button>
        </div>

        <section id="split-tool" class="tool-section active-tool">
            <div class="upload-area" id="splitDropArea">
                <i class="fas fa-cloud-upload-alt"></i>
                <h2>اسحب وأسقط ملف PDF هنا أو</h2>
                <button id="selectSplitFile" class="upload-btn">اختر ملف</button>
                <input type="file" id="splitFileInput" accept=".pdf" style="display:none;">
                <p class="file-types">يدعم: ملفات PDF فقط</p>
            </div>

            <div id="splitFileInfo" class="file-info hidden">
                <div class="file-details">
                    <i class="fas fa-file-pdf"></i>
                    <div>
                        <h3 id="splitFileName"></h3>
                        <p id="splitFileSize"></p>
                        <p id="splitPageCount"></p>
                    </div>
                </div>
                <button id="changeSplitFile" class="action-btn">
                    <i class="fas fa-exchange-alt"></i> تغيير الملف
                </button>
            </div>

            <div id="splitOptions" class="split-options hidden">
                <div class="option-group">
                    <h3><i class="fas fa-cog"></i> خيارات التقسيم</h3>
                    
                    <div class="option">
                        <input type="radio" id="splitMethodRange" name="splitMethod" value="range" checked>
                        <label for="splitMethodRange">تقسيم حسب نطاق الصفحات</label>
                        <div class="sub-option">
                            <input type="text" id="pageRange" placeholder="مثال: 1-3,5,7-9">
                            <small>استخدم الفاصلة لفصل بين النطاقات والشرطة لتحديد النطاق</small>
                        </div>
                    </div>
                    
                    <div class="option">
                        <input type="radio" id="splitMethodInterval" name="splitMethod" value="interval">
                        <label for="splitMethodInterval">تقسيم كل عدد من الصفحات</label>
                        <div class="sub-option">
                            <input type="number" id="pagesPerSplit" min="1" value="1" disabled>
                            <small>سيتم تقسيم الملف إلى عدة ملفات كل منها يحتوي على هذا العدد من الصفحات</small>
                        </div>
                    </div>
                </div>

                <div class="action-buttons">
                    <button id="previewSplit" class="action-btn primary">
                        <i class="fas fa-cut"></i> معاينة وتقسيم
                    </button>
                </div>
            </div>

            <div id="splitPreviewSection" class="preview-section hidden">
                <h3><i class="fas fa-eye"></i> معاينة التقسيم</h3>
                <div id="splitPreviewResults" class="preview-results"></div>
                <button id="backToSplitOptions" class="action-btn">
                    <i class="fas fa-arrow-left"></i> الرجوع للخيارات
                </button>
            </div>
        </section>

        <section id="merge-tool" class="tool-section">
            <div class="upload-area" id="mergeDropArea">
                <i class="fas fa-cloud-upload-alt"></i>
                <h2>اسحب وأسقط ملفات PDF هنا أو</h2>
                <button id="selectMergeFiles" class="upload-btn">اختر ملفات</button>
                <input type="file" id="mergeFilesInput" accept=".pdf" multiple style="display:none;">
                <p class="file-types">يدعم: ملفات PDF فقط | يمكنك اختيار عدة ملفات</p>
            </div>

            <div id="mergeContainer" class="merge-container hidden">
                <h3><i class="fas fa-list"></i> قائمة الملفات المراد دمجها</h3>
                <p class="merge-info">يمكنك سحب وإفلات الملفات لإعادة ترتيبها. ستدمج الملفات بالترتيب المعروض أدناه.</p>
                
                <div id="mergeFilesList" class="merge-files-list"></div>
                
                <div class="merge-actions">
                    <button id="addMoreFiles" class="action-btn">
                        <i class="fas fa-plus"></i> إضافة المزيد من الملفات
                    </button>
                    <button id="clearMergeFiles" class="action-btn danger">
                        <i class="fas fa-trash"></i> حذف الكل
                    </button>
                    <button id="mergePDFs" class="action-btn primary">
                        <i class="fas fa-object-group"></i> دمج الملفات
                    </button>
                </div>
            </div>

            <div id="mergeResultSection" class="merge-result-section hidden">
                <h3><i class="fas fa-check-circle"></i> تم دمج الملفات بنجاح</h3>
                <div class="merge-result-file">
                    <div class="file-details">
                        <i class="fas fa-file-pdf"></i>
                        <div>
                            <h3 id="mergedFileName"></h3>
                            <p id="mergedFileSize"></p>
                            <p id="mergedPageCount"></p>
                        </div>
                    </div>
                    <div class="result-actions">
                        <button id="downloadMerged" class="action-btn primary">
                            <i class="fas fa-download"></i> تحميل الملف المدمج
                        </button>
                    </div>
                </div>
                <button id="newMerge" class="action-btn">
                    <i class="fas fa-file-upload"></i> بدء دمج جديد
                </button>
            </div>
        </section>

<section id="remove-tool" class="tool-section">
    <div class="upload-area" id="removeDropArea">
        <i class="fas fa-cloud-upload-alt"></i>
        <h2>اسحب وأسقط ملف PDF هنا أو</h2>
        <button id="selectRemoveFile" class="upload-btn">اختر ملف</button>
        <input type="file" id="removeFileInput" accept=".pdf" style="display:none;">
        <p class="file-types">يدعم: ملفات PDF فقط</p>
    </div>

    <div id="removeFileInfo" class="file-info hidden">
        <div class="file-details">
            <i class="fas fa-file-pdf"></i>
            <div>
                <h3 id="removeFileName"></h3>
                <p id="removeFileSize"></p>
                <p id="removePageCount"></p>
            </div>
        </div>
        <button id="changeRemoveFile" class="action-btn">
            <i class="fas fa-exchange-alt"></i> تغيير الملف
        </button>
    </div>

    <div id="removeOptions" class="split-options hidden">
        <div class="option-group">
            <h3><i class="fas fa-cog"></i> خيارات الإزالة</h3>
            <div class="option">
                <div class="sub-option">
                    <input type="text" id="pagesToRemove" placeholder="مثال: 1,3-5,7">
                    <small>أدل أرقام الصفحات أو النطاقات المراد إزالتها</small>
                </div>
            </div>
        </div>

        <div class="action-buttons">
            <button id="processRemove" class="action-btn primary">
                <i class="fas fa-trash"></i> إزالة الصفحات
            </button>
        </div>
    </div>

    <div id="removeResultSection" class="preview-section hidden">
        <h3><i class="fas fa-check-circle"></i> تمت الإزالة بنجاح</h3>
        <div class="merge-result-file">
            <div class="file-details">
                <i class="fas fa-file-pdf"></i>
                <div>
                    <h3 id="removedFileName"></h3>
                    <p id="removedFileSize"></p>
                    <p id="removedPageCount"></p>
                </div>
            </div>
            <div class="result-actions">
                <button id="downloadRemoved" class="action-btn primary">
                    <i class="fas fa-download"></i> تحميل الملف
                </button>
            </div>
        </div>
        <button id="newRemove" class="action-btn">
            <i class="fas fa-file-upload"></i> بدء عملية جديدة
        </button>
    </div>
</section>

<section id="scan-tool" class="tool-section">
        <div class="upload-area" id="scanDropArea">
            <i class="fas fa-camera"></i>
            <h2>بدء مسح المستندات</h2>
            <button id="startScan" class="upload-btn">تشغيل الكاميرا</button>
            <div id="cameraPreview" class="hidden"></div>
        </div>

        <div id="scanControls" class="hidden">
            <video id="scannerVideo" autoplay playsinline></video>
            <div class="action-buttons">
                <button id="captureBtn" class="action-btn primary">
                    <i class="fas fa-camera"></i> التقاط صورة
                </button>
                <button id="addMoreScans" class="action-btn">
                    <i class="fas fa-plus"></i> إضافة صورة
                </button>
                <button id="convertToPdf" class="action-btn success">
                    <i class="fas fa-file-pdf"></i> تحويل إلى PDF
                </button>
            </div>
        </div>

        <div id="scannedPreview" class="preview-section hidden">
            <h3><i class="fas fa-images"></i> الصور الملتقطة</h3>
            <div id="scannedImages"></div>
        </div>

        <div id="scanResult" class="preview-section hidden">
            <h3><i class="fas fa-check-circle"></i> تم التحويل بنجاح</h3>
            <div class="merge-result-file">
                <div class="file-details">
                    <i class="fas fa-file-pdf"></i>
                    <div>
                        <h3 id="scannedFileName"></h3>
                        <p id="scannedFileSize"></p>
                        <p id="scannedPageCount"></p>
                    </div>
                </div>
                <div class="result-actions">
                    <button id="downloadScanned" class="action-btn primary">
                        <i class="fas fa-download"></i> تحميل الملف
                    </button>
                </div>
            </div>
            <button id="newScan" class="action-btn">
                <i class="fas fa-camera"></i> بدء مسح جديد
            </button>
        </div>
    </section>

    </main>

    <footer>
    <div class="container">
        <div class="footer-content">
            <p>Yousef Sayed &copy; <span id="currentYear"></span></p>
            <div class="social-links">
                <a href="https://www.facebook.com/jooueee/" target="_blank"><i class="fab fa-facebook"></i></a>
                <a href="https://www.linkedin.com/in/yousef-sayed-70456926b/" target="_blank"><i class="fab fa-linkedin"></i></a>
            </div>
        </div>
    </div>
    </footer>

    <div id="loadingOverlay" class="loading-overlay hidden">
        <div class="loading-content">
            <i class="fas fa-spinner fa-spin"></i>
            <p id="loadingText">جاري معالجة الملف...</p>
        </div>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/sortablejs@1.15.0/Sortable.min.js"></script>
    <script src="{{ url_for('static', filename='js/script.js') }}"></script>
</body>
</html>